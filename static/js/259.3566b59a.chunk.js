"use strict";(self.webpackChunksamurai_app_1=self.webpackChunksamurai_app_1||[]).push([[259],{9259:function(A,t,e){e.r(t),e.d(t,{default:function(){return Q}});var r=e(2791),s=e(8687),n=e(6139),o=e(704),i=e(8482),a=e(816),u=e(184),c=(0,i.B)(100),l=(0,o.Z)({form:"MakePostForm"})((function(A){return(0,u.jsxs)("form",{onSubmit:A.handleSubmit,children:[(0,u.jsx)(n.Z,{component:a.g,validate:[i.C,c],name:"newPostBody",placeholder:"Make new post"}),(0,u.jsx)("button",{children:"Make Post"})]})})),f="MyPosts_my-posts__WzXBO",d="Post_post__O86xL",p="Post_user-picture__s60Bk",j="Post_message__Lgefy",x=function(A){return(0,u.jsxs)("li",{className:d,children:[(0,u.jsx)("img",{className:p,src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQawNFgKqmtCVC3Vgn6yGMTelSNFOZsH_DRzQ&usqp=CAU",alt:"profile picture"}),(0,u.jsx)("p",{className:j,children:A.message}),(0,u.jsxs)("span",{children:[A.likes," <3"]})]})},h=function(A){return(0,u.jsxs)("div",{className:f,children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{children:"My Posts"}),(0,u.jsx)(l,{onSubmit:function(t){A.onMakePost(t.newPostBody)}})]}),(0,u.jsx)("div",{children:(0,u.jsx)("ul",{children:A.posts.map((function(A){return(0,u.jsx)(x,{message:A.body,likes:A.likes},A.id)}))})})]})},m=e(4405),b=(0,s.$j)((function(A){return{posts:A.profile.posts,newPostText:A.profile.newPostText}}),{onMakePost:m.Qk})(h),g=e(8683),k=e(885),v=e(6242),S="ProfileData_description__hgkcG",y="ProfileData_profilePicture__FArVL",F=function(A){var t=(0,r.useState)(!1),e=(0,k.Z)(t,2),s=e[0],n=e[1],o=(0,r.useState)(A.status),i=(0,k.Z)(o,2),a=i[0],c=i[1];(0,r.useEffect)((function(){c(A.status)}),[A.status]);var l=function(){n((function(t){return t&&A.updateUserStatus(a),!t}))};return(0,u.jsx)("div",{children:s?(0,u.jsx)("input",{value:a,autoFocus:!0,onChange:function(A){c(A.target.value)},onBlur:l}):(0,u.jsx)("span",{onDoubleClick:l,children:(0,u.jsx)("b",{children:a||"Set Status"})})})},Z=e(993),C=function(A){return(0,u.jsxs)("li",{children:[(0,u.jsxs)("b",{children:[A.title,": "]}),A.value||"-"]})},P=function(A){var t=Object.keys(A.profile.contacts).filter((function(t){return!!A.profile.contacts[t]}));return(0,u.jsxs)("div",{className:S,children:[(0,u.jsx)("img",{src:A.profile.photos.large||Z,className:y,alt:"avatar"}),A.isOwner&&(0,u.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&A.setPhoto(t.target.files[0])}}),(0,u.jsx)(F,{status:A.status,updateUserStatus:A.updateUserStatus}),(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"Nickname: "}),A.profile.fullName]}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"Looking for a Job: "}),A.profile.lookingForAJob?"Yes":"No"]}),A.profile.lookingForAJob&&(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"Professional Skills: "}),A.profile.lookingForAJobDescription]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"About Me: "}),A.profile.aboutMe]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"Contacts: "}),t.length?(0,u.jsx)("ul",{children:t.map((function(t){return(0,u.jsx)(C,{title:t,value:A.profile.contacts[t]},t)}))}):"No Contacts"]}),A.isOwner&&(0,u.jsx)("button",{onClick:A.activateEditMode,children:"Edit Profile"})]})},I=e(5273),U=(0,o.Z)({form:"edit-profile"})((function(A){return(0,u.jsxs)("form",{onSubmit:A.handleSubmit,children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"Nickname: "}),(0,u.jsx)(n.Z,{component:a.I,name:"fullName",type:"text",placeholder:"Enter New Nickname"})]}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"Looking for a Job: "}),(0,u.jsx)(n.Z,{component:a.I,name:"lookingForAJob",type:"checkbox"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"Professional Skills: "}),(0,u.jsx)(n.Z,{component:a.g,name:"lookingForAJobDescription",placeholder:"Write about your professional skills"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"About Me: "}),(0,u.jsx)(n.Z,{component:a.I,name:"aboutMe",type:"text",placeholder:"Write about yourself"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("b",{children:"Contacts: "}),(0,u.jsx)("ul",{children:Object.keys(A.contacts).map((function(A){return(0,u.jsxs)("li",{children:[A,(0,u.jsx)(n.Z,{component:a.I,name:"contacts.".concat(A),type:"text",placeholder:"Link to your ".concat(A)})]},A)}))})]}),A.error&&(0,u.jsx)("div",{className:I.Z.formSummaryError,children:A.error}),(0,u.jsx)("button",{children:"Finish Editing"})]})})),B=function(A){var t=(0,r.useState)(!1),e=(0,k.Z)(t,2),s=e[0],n=e[1];if(!A.profile)return(0,u.jsx)(v.Z,{});return(0,u.jsx)(u.Fragment,{children:s?(0,u.jsx)(U,{contacts:A.profile.contacts,initialValues:A.profile,onSubmit:function(t){A.setProfileInfo(t).then((function(){return n(!1)}))}}):(0,u.jsx)(P,(0,g.Z)((0,g.Z)({},A),{},{activateEditMode:function(){return n(!0)}}))})},E=function(A){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(B,{isOwner:A.isOwner,profile:A.profile,status:A.status,updateUserStatus:A.updateUserStatus,setPhoto:A.setPhoto,setProfileInfo:A.setProfileInfo}),(0,u.jsx)(b,{})]})},O=e(2537),K=e(5927),Q=(0,e(7781).qC)((0,s.$j)((function(A){return{profile:A.profile.profile,status:A.profile.status,userId:A.auth.userId,isAuth:A.auth.isAuth}}),{setUserProfile:m.hO,getUserStatus:m.Qw,updateUserStatus:m.wM,setPhoto:m.n6,setProfileInfo:m.w2}),O.Z,K.Z)((function(A){return(0,r.useEffect)((function(){var t=A.router.params.userId||A.userId;A.setUserProfile(t),A.getUserStatus(t)}),[A.router.params.userId]),(0,u.jsx)(E,{isOwner:!A.router.params.userId,profile:A.profile,status:A.status,updateUserStatus:A.updateUserStatus,setPhoto:A.setPhoto,setProfileInfo:A.setProfileInfo})}))},816:function(A,t,e){e.d(t,{I:function(){return f},g:function(){return l}});var r=e(8683),s=e(5987),n=e(5273),o=e(184),i=["input","meta"],a=["input","meta"],u=["input","meta"],c=function(A){A.input;var t=A.meta,e=(0,s.Z)(A,i),r=t.error&&t.touched;return(0,o.jsxs)("div",{className:"".concat(n.Z.formControl," ").concat(r?n.Z.error:""),children:[e.children,r&&(0,o.jsx)("span",{children:t.error})]})},l=function(A){var t=A.input,e=(A.meta,(0,s.Z)(A,a));return(0,o.jsx)(c,(0,r.Z)((0,r.Z)({},A),{},{children:(0,o.jsx)("textarea",(0,r.Z)((0,r.Z)({},t),e))}))},f=function(A){var t=A.input,e=(A.meta,(0,s.Z)(A,u));return(0,o.jsx)(c,(0,r.Z)((0,r.Z)({},A),{},{children:(0,o.jsx)("input",(0,r.Z)((0,r.Z)({},t),e))}))}},5927:function(A,t,e){var r=e(8683),s=e(8687),n=e(6871),o=e(184),i=function(A){return{isAuth:A.auth.isAuth}};t.Z=function(A){return(0,s.$j)(i,{})((function(t){return t.isAuth?(0,o.jsx)(A,(0,r.Z)({},t)):(0,o.jsx)(n.Fg,{to:"/login"})}))}},8482:function(A,t,e){e.d(t,{B:function(){return s},C:function(){return r}});var r=function(A){if(!A)return"Field is required"},s=function(A){return function(t){if(t.length>A)return"Maximum length ".concat(A," characters")}}},5273:function(A,t){t.Z={formControl:"FormsControl_formControl__-hg20",error:"FormsControl_error__Br7aE",formSummaryError:"FormsControl_formSummaryError__8FZdP"}},993:function(A){A.exports="data:image/jpeg;base64,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"}}]);
//# sourceMappingURL=259.3566b59a.chunk.js.map